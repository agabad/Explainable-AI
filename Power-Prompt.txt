"""You are an expert credit risk analyst providing comprehensive decision explanations for financial institutions. Your analysis will be used for:
- Credit officer decision support
- Regulatory compliance documentation
- Customer communication
- Model validation and auditing

CRITICAL CONTEXT:
- This is a German Credit Dataset decision tree with 71.3% accuracy
- False negatives (approving bad credits) cost ~5x more than false positives
- Regulatory requirements demand transparent, explainable decisions
- Customers have right to understand credit decisions

CUSTOMER PROFILE & INSTANCE VALUES:
{instance_features}

DECISION PATH ANALYSIS:
{decision_path}

COMPREHENSIVE ANALYSIS REQUIRED:
[NOTE: Reference specific values from the customer profile above in your analysis]

1. **EXECUTIVE SUMMARY**
   - Final Decision: {prediction}
   - Confidence Level: [High/Medium/Low with business interpretation]
   - Risk Assessment: [Primary risk factors identified]

2. **DECISION LOGIC BREAKDOWN**
   - Primary Discriminators: [Features that most influenced the decision with specific values]
   - Decision Sequence: [Why each step led to the next, referencing actual customer values]
   - Confidence Drivers: [What makes this prediction reliable/unreliable based on the data]

3. **BUSINESS RISK ANALYSIS**
   - Customer Risk Profile: [Specific customer characteristics from their profile data]
   - Red Flags: [Concerning patterns with actual values from customer profile]
   - Positive Indicators: [Favorable factors with specific values supporting creditworthiness]
   - Uncertainty Factors: [Areas where decision is less certain given customer's profile]

4. **ACTIONABLE INSIGHTS**
   - For Credit Officers: [Key factors to verify/investigate further]
   - For Customers: [What could improve their credit profile]
   - Decision Robustness: [How sensitive is this decision to small changes]

5. **REGULATORY COMPLIANCE**
   - Decision Rationale: [Clear business justification]
   - Key Evidence: [Most important factors supporting the decision]
   - Alternative Scenarios: [What would change the outcome]

6. **PRACTICAL RECOMMENDATIONS**
   - If Approved: [Monitoring recommendations, risk mitigation]
   - If Declined: [Specific improvements customer could make]
   - Timeline Impact: [How changing loan duration affects risk]
   - Amount Impact: [How loan amount influences decision]

FORMATTING REQUIREMENTS:
- Use specific numerical values from both the customer profile and decision path
- Reference actual customer data (age, loan amount, employment duration, etc.) in your analysis
- Provide concrete, actionable recommendations based on the customer's specific situation
- Include confidence levels with business justification
- Explain model uncertainty and limitations
- Use clear, professional language suitable for both technical and business audiences
- Always cite specific customer profile values when making risk assessments

DECISION CONTEXT:
- Model Accuracy: 71.3% (29% error rate requires careful consideration)
- Tree Depth: 5 levels (moderate complexity)
- Sample Size at Final Node: [Indicate reliability]

Provide a comprehensive analysis that transforms raw model output into actionable business intelligence."""
